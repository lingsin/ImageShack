{"version":3,"file":"static/js/972.f0ec983b.chunk.js","mappings":"yJAGMA,EAASC,EAAAA,GAAAA,IAAH,oIAkBZ,IAVkB,WAChB,OACE,UAACD,EAAD,qEAEE,kBAFF,8D,yLCLEE,EAAUD,EAAAA,GAAAA,IAAH,4HAOPE,EAASF,EAAAA,GAAAA,IAAH,6CAING,EAAQH,EAAAA,GAAAA,GAAH,4FAMLI,EAAYJ,EAAAA,GAAAA,IAAH,uHAOTK,EAAUL,EAAAA,GAAAA,IAAH,gDAQb,IAkDA,GAlDkBM,EAAAA,EAAAA,KAAS,WACzB,IAAOC,EAAWC,EAAAA,EAAAA,QACXC,GAAcC,EAAAA,EAAAA,KAAdD,WACDE,EAAQ,CACZC,aAAc,SAACC,GACb,MAAI,wCAAwCC,KAAKD,EAAKE,MAInDF,EAAKG,KAAO,SACbC,EAAAA,GAAAA,MAAc,yEACP,IAETC,EAAAA,EAAAA,IAAaL,EAAMA,EAAKM,MACrBC,MAAK,SAACC,GACLZ,EAAWa,YAAYT,EAAKM,MAC5BV,EAAWc,cAAcF,MACxBG,OAAM,gBAEJ,IAbLP,EAAAA,GAAAA,MAAc,+GACP,IAcXQ,gBAAgB,GAGlB,OACE,4BACE,UAAClB,GAAD,kBAAaI,GAAb,eACE,cAAGe,UAAU,uBAAb,UACE,SAACC,EAAA,EAAD,OAEF,cAAGD,UAAU,kBAAb,qEACA,cAAGA,UAAU,kBAAb,iIAKAjB,EAAWY,YAAY,UAACpB,EAAD,YACrB,SAACE,EAAD,wCACA,UAACC,EAAD,YACE,0BAAK,SAACF,EAAD,CAAQ0B,IAAKnB,EAAWY,WAAWQ,WAAWC,IAAID,WAAWC,SAClE,SAACzB,EAAD,UAAUI,EAAWsB,YACrB,0BAAK,cAAGC,OAAO,SAASC,KAAMxB,EAAWY,WAAWQ,WAAWC,IAAID,WAAWC,IAAzE,uDAEG,W,UChEpB,GAbaxB,EAAAA,EAAAA,KAAS,WACpB,IAAO4B,GAAaxB,EAAAA,EAAAA,KAAbwB,UACP,OACE,8BAEIA,EAAUC,aAAa,0BACrB,SAACjB,EAAD,OACQ,SAACkB,EAAA,EAAD","sources":["components/Tips.js","components/Uploader.js","pages/Home.js"],"sourcesContent":["import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst StyDiv = styled.div`\r\n  background-color: orange;\r\n  padding: 10px;\r\n  margin: 30px 0;\r\n  border-radius: 4px;\r\n  color: #f2f3f4;\r\n`;\r\n\r\nconst Component = () => {\r\n  return (\r\n    <StyDiv>\r\n      请您登录使用本网站\r\n      <br/>\r\n      如果没有账号请注册\r\n    </StyDiv>\r\n  );\r\n}\r\n\r\nexport default Component;","import { InboxOutlined } from '@ant-design/icons';\r\nimport { message, Upload } from 'antd';\r\nimport React from 'react';\r\nimport { Uploader } from \"../models\";\r\nimport useStores from \"../stores\";\r\nimport { observer } from \"mobx-react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst StyInfo = styled.div`\r\n  margin-top: 30px;\r\n  border: 1px dashed #d9d9d9;\r\n  padding: 10px;\r\n  background-color: #fafafa;\r\n`;\r\n\r\nconst StyImg = styled.img`\r\n  max-width: 200px;\r\n`;\r\n\r\nconst StyH1 = styled.h1`\r\n  margin-top: 30px;\r\n  margin-bottom: 60px;\r\n  text-align: center;\r\n`;\r\n\r\nconst StyResult = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n  margin: 50px 0;\r\n`;\r\n\r\nconst StyName = styled.div`\r\n  margin-right: 100px;\r\n`;\r\n\r\nfunction insertStr(source, start, newStr){   \r\n  return source.slice(0, start) + newStr + source.slice(start);\r\n}\r\n\r\nconst Component = observer(() => {\r\n  const {Dragger} = Upload;\r\n  const {ImageStore} = useStores();\r\n  const props = {\r\n    beforeUpload: (file) => {\r\n      if(!/(svg$)|(png$)|(jpg$)|(jpeg$)|(gif$)/ig.test(file.type)) {\r\n        message.error(\"只能上传以svg、png、jpg、jpeg或gif结尾的文件！\");\r\n        return false;\r\n      }\r\n      if(file.size > 1024 * 1024) {\r\n        message.error(\"上传图片大小不能超过1M！\");\r\n        return false;\r\n      }\r\n      Uploader.add(file, file.name)\r\n        .then((serverFile) => {\r\n          ImageStore.setFilename(file.name);\r\n          ImageStore.setServerFile(serverFile);\r\n        }).catch(() => {\r\n        });\r\n      return false;\r\n    },\r\n    showUploadList: false\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Dragger {...props}>\r\n        <p className=\"ant-upload-drag-icon\">\r\n          <InboxOutlined />\r\n        </p>\r\n        <p className=\"ant-upload-text\">点击或拖拽上传图片</p>\r\n        <p className=\"ant-upload-hint\">\r\n          请上传格式为.svg/.png/.jpg/.jpeg/.gif的图片，图片最大1M\r\n        </p>\r\n      </Dragger>\r\n      {\r\n        ImageStore.serverFile? <StyInfo>\r\n          <StyH1>上传结果</StyH1>\r\n          <StyResult>\r\n            <div><StyImg src={ImageStore.serverFile.attributes.url.attributes.url}/></div>\r\n            <StyName>{ImageStore.filename}</StyName>\r\n            <div><a target=\"_blank\" href={ImageStore.serverFile.attributes.url.attributes.url}>我是图片的URL</a></div>\r\n          </StyResult>\r\n        </StyInfo>: null\r\n      }\r\n    </div>\r\n  );\r\n }\r\n);\r\n\r\nexport default Component;","import React from \"react\"\r\nimport useStores from \"../stores\";\r\nimport {observer} from \"mobx-react\";\r\nimport Uploader from \"../components/Uploader\";\r\nimport Tips from \"../components/Tips\";\r\n\r\nconst Home = observer(() => {\r\n  const {UserStore} = useStores();\r\n  return (\r\n    <>\r\n      {\r\n        UserStore.currentUser? <div>\r\n          <Uploader/>\r\n          </div>: <Tips/>\r\n      }\r\n    </>\r\n  );\r\n});\r\n\r\nexport default Home;"],"names":["StyDiv","styled","StyInfo","StyImg","StyH1","StyResult","StyName","observer","Dragger","Upload","ImageStore","useStores","props","beforeUpload","file","test","type","size","message","Uploader","name","then","serverFile","setFilename","setServerFile","catch","showUploadList","className","InboxOutlined","src","attributes","url","filename","target","href","UserStore","currentUser","Tips"],"sourceRoot":""}